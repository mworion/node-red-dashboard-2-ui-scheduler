
<script type="text/javascript">
  function _popoutSchedulerHelp (tag) {
      const startTag = (name) => `<${name}>`
      const endTag = (name) => `</${name}>`
      const winHtml = `
          ${startTag('html')}
              ${startTag('head')}
                  ${startTag('title')}ui-scheduler Hilfe${endTag('title')}
                  ${startTag('style')}
                  .fade-in {
                      transition: opacity 1.5s ease-in-out;
                  }
                  .hidden {
                      opacity: 0;
                      visibility: hidden;
                  }
                  ${endTag('style')}
              ${endTag('head')}
              ${startTag('body')}
                  ${startTag('script')}
                      const styles = ${JSON.stringify([].map.call(document.querySelectorAll('[rel="stylesheet"]'), e => e.href))}
                      const head = document.head || document.getElementsByTagName('head')[0]
                      styles.forEach(href => {
                          const el = document.createElement('link');
                          el.rel="stylesheet"
                          el.href = href
                          head.appendChild(el);
                      })
                  ${endTag('script')}
                  <div class="red-ui-editor help-content hidden" style="height: 100%">
                      <div class="red-ui-sidebar-info">
                          <div class="red-ui-sidebar-help-stack red-ui-panels" style="height: 100%;">
                              <div class="red-ui-panel" style="overflow-y: auto;height: 100%;">
                                  <div class="red-ui-help" style="padding: 6px;height: 100%;">
                                      <h1 class="red-ui-help-title">ui-scheduler</h1>
                                      <div class="red-ui-help">
                                          <span class="red-ui-text-bidi-aware">
                                              ${RED.nodes.getNodeHelp('ui-scheduler')}
                                          </span>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
                  ${startTag('script')}
                      if (navigator.clipboard) {
                          document.querySelector('.ui-scheduler-link-button').classList.add('hidden')
                          const content = document.querySelector('.help-content');
                          content.classList.add('hidden')
                          content.classList.remove('hidden')
                          content.classList.add('fade-in')
                          const copyButtonLabel = "Kopieren"
                          const blocks = document.querySelectorAll("pre.ui-scheduler-code")
                          blocks.forEach((block) => {
                              const button = document.createElement("button")
                              button.innerText = copyButtonLabel
                              button.classList.add('ui-scheduler-copy-button')
                              button.addEventListener("click", copyCode)
                              block.appendChild(button)
                          })
                      }
                      async function copyCode(event) {
                          const button = event.srcElement
                          const pre = button.parentElement
                          const code = pre.querySelector("code")
                          const text = code.innerText
                          await navigator.clipboard.writeText(text)
                      }
                  ${endTag('script')}
              ${endTag('body')}
          ${endTag('html')}`

      const BOM = new Uint8Array([0xEF, 0xBB, 0xBF])
      const winUrl = URL.createObjectURL(
          new Blob([BOM, winHtml], { encoding: 'UTF-8', type: 'text/html;charset=UTF-8' })
      )
      const win = window.open(
          winUrl + (tag ? '#' + tag : ''),
          'win',
          'width=800,height=600'
      )
  }
</script>

<script type="text/markdown" data-help-name="ui-scheduler">
  
# ğŸ•™ UI Scheduler Hilfe Dokumentation

Dieses Dokument bietet eine umfassende Anleitung zur Konfiguration der Einstellungen fÃ¼r den UI Scheduler-Knoten, zur Verwendung in der Dashboard-UI und zusÃ¤tzliche Informationen. Der UI Scheduler ermÃ¶glicht es Benutzern, Aufgaben basierend auf Zeit, Sonnenereignissen oder Cron-AusdrÃ¼cken zu automatisieren.

## ğŸ‘† Verwendung des UI Scheduler im Dashboard 2.0

#### ğŸ–¥ï¸ Hauptschnittstelle

- **ğŸ› ï¸ Toolbar**: 
- **ğŸ” Themenauswahl**: FilterplÃ¤ne nach Thema.
- **â• Plan hinzufÃ¼gen Button**: Ã–ffnen Sie den Dialog, um einen neuen Plan zu erstellen.
- **â˜° MenÃ¼**: Zugriff auf zusÃ¤tzliche Optionen wie das ÃœberprÃ¼fen von Updates oder das Melden von Problemen.

- **ğŸ“‹ Plan Tabelle**: Zeigt alle PlÃ¤ne mit Details wie Name, Beschreibung und Status an. Sie kÃ¶nnen Zeilen erweitern, um mehr Details anzuzeigen.

#### ğŸ—“ï¸ Erstellen eines Plans

1. **ğŸ–±ï¸ Ã–ffnen Sie den Plan-Dialog**: Klicken Sie auf die â• SchaltflÃ¤che in der Toolbar.
2. **âœï¸ Geben Sie Plan Details ein**:
 - **ğŸ·ï¸ Name**: Geben Sie einen eindeutigen Namen fÃ¼r den Plan ein.
 - **ğŸ“‚ Thema**: WÃ¤hlen Sie ein Thema aus dem Dropdown-MenÃ¼. Themen sind in **Node Settings** definiert.
 - **â²ï¸ Typ**: WÃ¤hlen Sie zwischen Zeit-, Sonnen- oder Cron-Planung.
 - **ğŸ”„ Zeitraum**: WÃ¤hlen Sie fÃ¼r zeitbasierte PlÃ¤ne den Wiederholungszeitraum aus.
 - **ğŸ•’ Zeit/Datum**: Legen Sie die Startzeit und, falls zutreffend, die Endzeit oder Dauer fest.
 - **ğŸ“¦ Nutzlast**: WÃ¤hlen Sie den Nutzlasttyp und definieren Sie bei Bedarf benutzerdefinierte Nutzlasten.
3. **ğŸ’¾ Speichern Sie den Plan**: Klicken Sie auf "Speichern", um den Plan hinzuzufÃ¼gen.

#### âœï¸ Bearbeiten eines Plans

- **ğŸ–Šï¸ Bearbeiten**: Klicken Sie auf den Plan in der Tabelle, um Zeilen zu erweitern und mehr Details anzuzeigen. Klicken Sie auf das Stiftsymbol, um den Bearbeitungsdialog zu Ã¶ffnen. Ã„nderungen vornehmen und speichern.
- **ğŸ—‘ï¸ LÃ¶schen**: Klicken Sie auf das LÃ¶schsymbol, um einen Plan zu entfernen.

#### ğŸ”„ Importieren und Exportieren von PlÃ¤nen

- **ğŸ“¤ Exportieren**: Klicken Sie auf das Exportsymbol, um den Plan-JSON in Ihre Zwischenablage zu kopieren. _Nur verfÃ¼gbar beim Bearbeiten eines Plans._
- **ğŸ“¥ Importieren**: Klicken Sie auf das Importsymbol und fÃ¼gen Sie den JSON ein, um einen Plan zu importieren. _Nur verfÃ¼gbar beim Erstellen eines Plans._

#### âš™ï¸ Verwaltung von PlÃ¤nen

- **ğŸ”„ Aktivieren/Deaktivieren**: Verwenden Sie den Kippschalter, um PlÃ¤ne zu aktivieren oder zu deaktivieren.

### ğŸš€ Erweiterte Funktionen

#### ğŸŒ Sonnenereignisse

- Passen Sie PlÃ¤ne basierend auf Sonnenereignissen mit Offsets an.
- UnterstÃ¼tzte Ereignisse umfassen Sonnenaufgang, Sonnenuntergang und verschiedene DÃ¤mmerungsphasen.

#### â° Cron-AusdrÃ¼cke

- Verwenden Sie Cron-Syntax fÃ¼r komplexe Planungsanforderungen.
- UnterstÃ¼tzt Standard-Cron-Felder und Sonderzeichen.

#### ğŸ“¦ Benutzerdefinierte Nutzlasten

- Verwenden Sie benutzerdefinierte Nutzlasten fÃ¼r die Plan-Ausgabe. Nutzlasten sind in **Node Settings** definiert.
- UnterstÃ¼tzt JSON und andere Datenformate.

## ğŸ› ï¸ Node Settings

#### ğŸ·ï¸ Name
- **Feld**: `Name`
- **Beschreibung**: Geben Sie einen eindeutigen Namen fÃ¼r den Scheduler ein. Dieser Name wird verwendet, um den Scheduler im System zu identifizieren.
- **Eingabetyp**: Text (string)

#### ğŸ‘¥ Gruppe
- **Feld**: `Gruppe`
- **Beschreibung**: WÃ¤hlen Sie die Gruppe aus, zu der dieser Scheduler gehÃ¶rt. Gruppen helfen, Widgets innerhalb der UI zu organisieren.
- **Eingabetyp**: Dropdown (string)

#### ğŸ“ GrÃ¶ÃŸe
- **Feld**: `GrÃ¶ÃŸe`
- **Beschreibung**: Passen Sie die GrÃ¶ÃŸe des Scheduler-Widgets innerhalb der UI an. Dies kann manuell oder mit dem ElementgrÃ¶ÃŸenanpasser eingestellt werden.
- **Eingabetyp**: Button (ElementgrÃ¶ÃŸenanpasser)

#### ğŸ·ï¸ Etikett
- **Feld**: `Etikett`
- **Beschreibung**: Legen Sie ein Etikett fÃ¼r den Scheduler fest, das in der UI angezeigt wird.
- **Eingabetyp**: Text (string)

### ğŸŒ Lokalisierungseinstellungen

#### ğŸŒ Sprache
- **Feld**: `Sprache`
- **Beschreibung**: WÃ¤hlen Sie die Sprache fÃ¼r die Scheduler-OberflÃ¤che aus. 
- UnterstÃ¼tzte Sprachen sind Englisch, Deutsch, FranzÃ¶sisch, Italienisch, NiederlÃ¤ndisch und Spanisch.
- Bearbeiten Sie auch <code>~/.node-red/settings.js</code> und fÃ¼gen Sie die folgende Zeile hinzu/kommentieren Sie sie aus: <code>lang: 'en'</code>. 
VerfÃ¼gbare Sprachcodes sind: <code>en</code>, <code>de</code>, <code>fr</code>, <code>it</code>, <code>nl</code>, <code>es</code>
Dies legt die Sprache fest, die im UI Scheduler-Knoten auf dem Node-Red-Server verwendet wird.
- **Eingabetyp**: Dropdown (string)

#### â° Zeitzone
- **Feld**: `Zeitzone`
- **Beschreibung**: Geben Sie die Zeitzone fÃ¼r den Scheduler an. Dies beeinflusst, wie Zeiten berechnet und angezeigt werden.
- Leer lassen fÃ¼r Systemzeitzone. 
- Alternativ geben Sie UTC oder eine Zeitzone im Format Region/Area ein ([Liste](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)).
- **Eingabetyp**: Autocomplete Text (string)

#### ğŸ•’ 24-Stunden-Format
- **Feld**: `24-Stunden-Format verwenden`
- **Beschreibung**: Umschalten zwischen 24-Stunden- und 12-Stunden-Zeitformaten.
- **Eingabetyp**: Checkbox (boolean)

### ğŸ“ Standort-Einstellungen

#### ğŸŒ Standort
- **Feld**: `Standort`
- **Beschreibung**: Legen Sie einen Standardstandort fÃ¼r die Berechnung von Sonnenereignissen fest. Dies kann ein fester Standort oder eine Umgebungsvariable sein.
- **Eingabetyp**: Typed Input (string)

### ğŸ“¤ Ausgabe-Einstellungen

#### ğŸ“¬ Befehl Antwortnachricht Ausgabe
- **Feld**: `Befehl Antwortnachricht Ausgabe`
- **Beschreibung**: WÃ¤hlen Sie, wie Befehlsantworten ausgegeben werden. Optionen umfassen:
- 1 Ausgabe: Alle Nachrichten an Ausgabe 1 (PlÃ¤ne + Befehlsantworten)
- 2 Ausgaben: Befehlsantworten an Ausgabe 1, Plan-Nachrichten an Ausgabe 2
- Fan out: Separate Ausgaben fÃ¼r Befehlsnachrichten und jedes Thema
- **Eingabetyp**: Dropdown (string)

#### ğŸ“ Ausgabe-Eigenschaft
- **Feld**: `Ausgabefeld`
- **Beschreibung**: Geben Sie die Eigenschaft im Nachrichtenobjekt an, in der die Ausgabe gespeichert wird.
- z.B. wenn 'Ausgabefeld' auf **data.value** gesetzt ist, dann enthÃ¤lt `msg.data.value` den Wert der *Nutzlast*
- `msg.topic` enthÃ¤lt den Namen des Themas. Dies vereinfacht die Trennung, welches Planereignis ausgelÃ¶st wurde
- ZusÃ¤tzliche Eigenschaften werden auch dem msg-Objekt hinzugefÃ¼gt. ÃœberprÃ¼fen Sie die Debug-Ausgabe (verwenden Sie vollstÃ¤ndige msg anzeigen)

- **Eingabetyp**: Typed Input (string)

### ğŸ“Š Status-Einstellungen

#### ğŸ“… Status von PlÃ¤nen senden
- **Feld**: `Status von PlÃ¤nen senden`
- **Beschreibung**: Konfigurieren Sie, wie oft der Status von PlÃ¤nen gesendet wird und ob aktive oder inaktive ZustÃ¤nde gesendet werden sollen.
- Dies ist nach Thema gruppiert, sodass, wenn zwei PlÃ¤ne `aktiv` (im Bereich von Start- und Endzeiten) fÃ¼r dasselbe Thema sind, nur eine Nachricht mit Nutzlast `true` gesendet wird. 
- Ebenso, wenn ein Plan fÃ¼r ein Thema `inaktiv` ist und der andere `aktiv`, wird nur eine Nachricht mit Nutzlast `true` gesendet. 
- Wenn beide PlÃ¤ne `inaktiv` sind, wird nur eine Nachricht mit Nutzlast `false` gesendet.
- **Eingabetyp**: Nummer (Intervall), Checkbox (Aktiv/Inaktiv Zustand) (number, boolean)

### ğŸ’¾ Speicher-Einstellungen

#### ğŸ—„ï¸ Speichername
- **Feld**: `Speichername`
- **Beschreibung**: WÃ¤hlen Sie die Speichermethode fÃ¼r das Speichern von PlÃ¤nen. Optionen umfassen:
- Keine: PlÃ¤ne nicht speichern. PlÃ¤ne gehen verloren, wenn der Knoten neu bereitgestellt wird
- Lokales Dateisystem: PlÃ¤ne im lokalen Dateisystem speichern. Die PlÃ¤ne werden in einem Verzeichnis namens `schedulerdata` unter Ihrem Node-Red-Ordner gespeichert
- Node-Kontextspeicher: PlÃ¤ne im Node-Kontext speichern. Diese Speicher werden automatisch aus Ihrer Node-Red-Einstellungsdatei geladen. Weitere Informationen finden Sie in der [Node-RED-Kontexte](https://nodered.org/docs/user-guide/context) Dokumentation.
- **Eingabetyp**: Dropdown (string)

### ğŸ“¨ Themen und Nutzlasten

#### ğŸ—‚ï¸ Themen
- **Feld**: `Themen`
- **Beschreibung**: Definieren Sie Themen fÃ¼r den Scheduler. Themen helfen, PlÃ¤ne zu kategorisieren und zu verwalten.
- Diese Themen kÃ¶nnen im `Thema`-Feld von PlÃ¤nen verwendet werden und kÃ¶nnen in der Node-Red Dashboard 2.0 UI ausgewÃ¤hlt werden. 
- Im Fan Out-Modus werden Plan-Nachrichten an die Ausgabe gesendet, die dem Thema entspricht.
- **Eingabetyp**: Bearbeitbare Liste (string)

#### ğŸ“¦ Benutzerdefinierte Nutzlasten
- **Feld**: `Benutzerdefinierte Nutzlasten`
- **Beschreibung**: Definieren Sie benutzerdefinierte Nutzlasten, die gesendet werden, wenn ein Plan ausgelÃ¶st wird. 
- Nutzlasten kÃ¶nnen verschiedene Typen haben, einschlieÃŸlich String, Nummer, Boolean und JSON.
- Nutzlasten, die hier definiert sind, kÃ¶nnen in der Dashboard-UI ausgewÃ¤hlt werden.
- Das Ã„ndern des Nutzlastwerts hier aktualisiert automatisch die Nutzlastwerte aller PlÃ¤ne, die die Nutzlast verwenden 
- **Eingabetyp**: Bearbeitbare Liste mit Typed Input (string, number, boolean, JSON)

### âš™ï¸ Erweiterte Einstellungen

#### ğŸ•°ï¸ Neuen ZeitwÃ¤hler verwenden
- **Feld**: `Neuen ZeitwÃ¤hler verwenden`
- **Beschreibung**: Aktivieren oder deaktivieren Sie die neue ZeitwÃ¤hler-OberflÃ¤che.
- **Eingabetyp**: Checkbox (boolean)

## ğŸ”§ Eingaben (Erweiterte Verwendung)

#### Thema
Die meisten Befehle kÃ¶nnen im Thema mit dem Namen des Plans in der Nutzlast bereitgestellt werden (wo zutreffend). UnterstÃ¼tzte Befehls-Themen...

- trigger
- status
- export
- remove
- pause
- stop
- start

Dies umfasst die `-all`, `-all-dynamic`, `-all-static`, `-topic`, `-active`,  `-active-dynamic`,  `-active-static`, `-inactive`, `-inactive-dynamic` und `-inactive-static` Befehls-Themen (z.B. export-all, stop-all-dynamic, start-all-static, remove-inactive-dynamic). Siehe [Befehle](#ui-scheduler-commands-info) unten fÃ¼r Details.

#### ğŸ“¦ Nutzlast
Es ist mÃ¶glich, PlÃ¤ne dynamisch hinzuzufÃ¼gen, zu entfernen und zu steuern, indem eine Nutzlast in den Knoten injiziert wird. Das Format des Nutzlastobjekts (oder Arrays von Objekten) hÃ¤ngt von der Operation ab. Siehe unten fÃ¼r Details. Sie kÃ¶nnen auch PlÃ¤ne aus der Dashboard-UI im Bearbeitungsfenster exportieren und den resultierenden JSON einfÃ¼gen.

#### â• HinzufÃ¼gen eines (oder mehrerer) PlÃ¤ne
Beispiel...
```json
payload: {
"command": "add",
"schedule": [
  {
    "name": "Plan",
    "topic": "Thema 1",
    "enabled": true,
    "scheduleType": "time",
    "period": "daily",
    "time": "00:00",
    "endTime": null,
    "days": [
      "sunday",
      "monday",
      "tuesday",
      "wednesday",
      "thursday",
      "friday",
      "saturday"
    ],
    "payloadType": true,
    "payloadValue": true
  },
  {
    "name": "Plan 2",
    "topic": "Thema 1",
    "enabled": true,
    "scheduleType": "solar",
    "timespan": "time",
    "solarEvent": "sunrise",
    "offset": 5,
    "solarEventStart": false,
    "solarEventTimespanTime": "21:00",
    "payloadType": "true_false",
    "payloadValue": true,
    "endPayloadValue": false
  },
  {
    "name": "Plan 3",
    "topic": "Thema 1",
    "enabled": true,
    "scheduleType": "time",
    "period": "minutes",
    "duration": 1,
    "timespan": "duration",
    "minutesInterval": 7,
    "payloadType": "true_false",
    "payloadValue": true,
    "endPayloadValue": false
  }
]
}
```

### ğŸ“Š Status eines Plans abrufen oder einen Plan entfernen / stoppen / pausieren / starten

#### Thema Methode
```json
msg.topic = "command"; // Befehlname - *siehe Details unten*,
msg.payload = "name"; //  Name des Plans
```

#### Nutzlast Methode
```json
payload: {
"command": "*siehe Details unten*",
"name": "* Name des Plans",
}
```

#### Details
- command: (string|erforderlich) Die auszufÃ¼hrende Operation - dies kann einer der folgenden sein...
- "trigger"
- "status"
- "export"
- "remove"
- "stop"
- "pause"
- "start"
- name: (string|optional) Der Name des Plans, der betroffen werden soll (nicht erforderlich, wenn die -all, -active oder -inactive Filter verwendet werden)

#### ğŸ“ Hinweise
- `trigger` lÃ¶st den Plan aus, der in `msg.payload` benannt ist
- `status` gibt ein Objekt mit der Konfiguration und dem Status des benannten Plans zurÃ¼ck
- `export` gibt ein Objekt mit der Konfiguration des benannten Plans zurÃ¼ck
- `remove` stoppt und entfernt den Plan. Diese Option hat keine Ausgabe.
- `stop` stoppt den Plan, der durch `name` angegeben ist, und setzt seinen internen ZÃ¤hler zurÃ¼ck. Diese Option hat keine Ausgabe.
- `pause` stoppt den Plan, der durch `name` angegeben ist, setzt jedoch seinen internen ZÃ¤hler nicht zurÃ¼ck. Diese Option hat keine Ausgabe.
- `start` startet (erneut) alle PlÃ¤ne. Jeder Plan, der sein Limit erreicht hat, beginnt von vorne. Pausierte PlÃ¤ne werden fortgesetzt. Diese Option hat keine Ausgabe.
- FILTER: Das HinzufÃ¼gen von `-all` zu einem dieser Befehle wirkt sich auf alle PlÃ¤ne aus. z.B. `status-all` gibt den Status aller PlÃ¤ne zurÃ¼ck
- FILTER: Das HinzufÃ¼gen von `-all-dynamic` zu einem dieser Befehle wirkt sich nur auf dynamische PlÃ¤ne aus, z.B. `remove-all-dynamic` entfernt alle dynamischen PlÃ¤ne
- FILTER: Das HinzufÃ¼gen von `-all-static` zu einem dieser Befehle wirkt sich nur auf statische PlÃ¤ne aus, z.B. `stop-all-static`
- FILTER: Das HinzufÃ¼gen von `-topic` zu einem dieser Befehle wirkt sich nur auf PlÃ¤ne aus, deren Thema mit dem im Nutzlast angegebenen Thema Ã¼bereinstimmt, z.B. `stop-topic`
- FILTER: Das HinzufÃ¼gen von `-active` zu den Befehlen status, export und remove wirkt sich auf alle aktiven PlÃ¤ne aus, z.B. `status-active`
- FILTER: Das HinzufÃ¼gen von `-active-static` zu den Befehlen status, export und remove wirkt sich auf alle statischen PlÃ¤ne aus, die aktiv sind, z.B. `status-active-static`
- FILTER: Das HinzufÃ¼gen von `-active-dynamic` zu den Befehlen status, export und remove wirkt sich auf alle dynamischen PlÃ¤ne aus, die aktiv sind, z.B. `status-active-dynamic`
- FILTER: Das HinzufÃ¼gen von `-inactive` zu den Befehlen status, export und remove wirkt sich auf alle inaktiven PlÃ¤ne aus, z.B. `status-inactive`
- FILTER: Das HinzufÃ¼gen von `-inactive-static` zu den Befehlen status, export und remove wirkt sich auf alle statischen PlÃ¤ne aus, die inaktiv sind, z.B. `status-inactive-static`
- FILTER: Das HinzufÃ¼gen von `-inactive-dynamic` zu den Befehlen status, export und remove wirkt sich auf alle dynamischen PlÃ¤ne aus, die inaktiv sind, z.B. `status-inactive-dynamic`

#### ğŸ“– Beispiele
- Verwenden eines einfachen Themenbefehls, um einen Plan namens "schedule1" manuell auszulÃ¶sen
```json
msg: {
  "topic": "trigger",
  "payload": "schedule1"
}
```
- Verwenden eines einfachen Themenbefehls mit einem Thema in der Nutzlast, um alle PlÃ¤ne mit dem angegebenen Thema zu starten
```json
msg: {
  "topic": "start-topic",
  "payload": { "topic": "Thema 1" }
}
```
- Verwenden eines einfachen Themenbefehls, um alle dynamisch hinzugefÃ¼gten PlÃ¤ne zu exportieren...
```json
msg: {
  "topic": "export-all-dynamic"
}
```
- Verwenden eines einfachen Themenbefehls, um einen Plan namens "schedule1" zu lÃ¶schen
```json
msg: {
  "topic": "remove",
  "payload": "schedule1"
}
```
- Verwenden einer cmd-Nutzlast, um alle PlÃ¤ne zu pausieren...
```json
payload: {
  "command": "pause-all"
}
```
- Verwenden eines einfachen Themenbefehls, um alle dynamischen PlÃ¤ne zu lÃ¶schen, die abgeschlossen sind
```json
msg: {
  "topic": "remove-inactive-dynamic"
}
```

### ğŸ” Beschreiben

#### Beispiel: cmd-Nutzlast, um einen Cron-Ausdruck zu beschreiben
```json
{
"command": "describe",
"expressionType": "cron",
"expression": "0 */5 * * * MON *",
"timeZone": "Europe/Berlin"
}
```

#### Beispiel: cmd-Nutzlast, um alle Sonnenereigniszeiten + Sonnenzustand zu diesem Zeitpunkt zu erhalten
```json
{
"command": "describe",
"expressionType": "solar",
"location": "54.9992500,-1.4170300",
"solarType": "all",
"timeZone": "Europe/Berlin"
}
```

#### Beispiel: cmd-Nutzlast, um 4 Sonnenereigniszeiten + Sonnen fÃ¼r einen bestimmten Zeitpunkt zu erhalten
```json
{
"command": "describe",
"expressionType": "solar",
"time": "2020-03-22 18:40",
"location": "54.9992500,-1.4170300",
"solarType": "selected",
"solarEvents": "civilDawn,sunrise,sunset,civilDusk",
"timeZone": "Europe/Berlin"
}
```

#### Details
Gibt ein Objekt in der Nutzlast zurÃ¼ck, das menschenlesbare Informationen fÃ¼r den gegebenen Ausdruck enthÃ¤lt.

- command: (string|erforderlich) Die auszufÃ¼hrende Operation
- expression: (string|erforderlich) Der Ausdruck, der beschrieben werden soll
- timeZone: (string|optional) Eine Zeitzone, die verwendet werden soll. Leer lassen fÃ¼r Systemzeitzone. Alternativ geben Sie UTC oder eine Zeitzone im Format Region/Area ein ([Liste](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones))

## ZusÃ¤tzliche Informationen

### â° CronExpression
Ein CRON-Ausdruck, ein Datum, eine durch Kommas getrennte Liste von Daten oder ein Array von Daten.

##### ğŸ“… Datums- oder Datumsfolgenformat
Wenn Sie ein festes Datum oder eine Folge von Daten verwenden mÃ¶chten, kann der Ausdruck ein String-Datum, eine durch Kommas getrennte Liste von Daten oder ein Array von Daten sein (Das Array kann eine Mischung aus String, Datumsobjekten und Zeitstempeln enthalten). Wenn Sie ein String-Datum angeben, kÃ¶nnen Sie die Zeitzone verwenden, z.B. "2020-01-01 00:00 GMT+2". Sie kÃ¶nnen sogar Zeitzonen mischen, z.B. "2020-01-01 00:00 GMT+2, 2020-01-01 00:00 GMT-7".

##### â²ï¸ CRON-Format
```
* * * * * * *    Feld              Erlaubte Werte    Sonderzeichen
| | | | | | |    -----------------  ---------------   ---------------
`-|-|-|-|-|-|->  Sekunde (optional)  0-59              * / , -
`-|-|-|-|-|->  Minute             0-59              * / , -
  `-|-|-|-|->  Stunde             0-23              * / , -
    `-|-|-|->  Tag des Monats     1-31              * / , - ? L W
      `-|-|->  Monat              1-12 oder JAN-DEC   * / , -
        `-|->  Wochentag          0-7 oder SUN-SAT    * / , - ? L #
          `->  Jahr (optional)    1970-2099         * / , -
```

##### ğŸ“ Hinweise
- `*` Sternchen zeigen an, dass der Cron-Ausdruck fÃ¼r alle Werte des Feldes Ã¼bereinstimmt. Zum Beispiel bedeutet "*" im Minutenfeld jede Minute.
- `?` Fragezeichen werden verwendet, um 'keinen bestimmten Wert' anzugeben und sind fÃ¼r die Felder Tag des Monats und Wochentag erlaubt. Es wird anstelle des Sternchens (*) verwendet, um entweder Tag des Monats oder Wochentag leer zu lassen.
- `-` Bindestriche werden verwendet, um Bereiche zu definieren. Zum Beispiel bedeutet "10-12" im Stundenfeld die Stunden 10, 11 und 12.
- `,` Kommas werden verwendet, um Elemente einer Liste zu trennen. Zum Beispiel bedeutet "MON,WED,FRI" im Wochentagfeld die Tage Montag, Mittwoch und Freitag.
- `/` SchrÃ¤gstriche werden verwendet, um Inkremente anzugeben. Zum Beispiel bedeutet "0/15" im Sekundenfeld die Sekunden 0, 15, 30 und 45. ZusÃ¤tzlich bedeutet "1/3" im Tag des Monatsfeld jeden 3. Tag, beginnend am ersten Tag des Monats.
- `L` Kurzform fÃ¼r "letzter" und ist fÃ¼r die Felder Tag des Monats und Wochentag erlaubt. Das "L"-Zeichen hat in jedem der beiden Felder eine andere Bedeutung. Zum Beispiel bedeutet "L" im Tag des Monatsfeld der letzte Tag des Monats. Wenn es im Wochentagfeld verwendet wird, bedeutet es 7 oder SAT. Wenn es jedoch im Wochentagfeld nach einem anderen Wert verwendet wird, bedeutet es den letzten xxx-Tag des Monats. Zum Beispiel bedeutet "6L" im Wochentagfeld der letzte Freitag des Monats.
- `W` Kurzform fÃ¼r "Wochentag" und ist fÃ¼r das Feld Tag des Monats erlaubt. Das "W"-Zeichen wird verwendet, um den Wochentag in der NÃ¤he des angegebenen Tages anzugeben. Zum Beispiel bedeutet "15W" im Tag des Monatsfeld der nÃ¤chste Wochentag zum 15. des Monats. Daher, wenn der 15. ein Samstag ist, wird der Job am Freitag, dem 14., ausgefÃ¼hrt. Die Zeichen "L" und "W" kÃ¶nnen im Tag des Monatsfeld kombiniert werden. Zum Beispiel bedeutet "LW" der letzte Wochentag des Monats.
- `#` Rautezeichen spezifizieren Konstrukte. Zum Beispiel bedeutet "6#3" im Wochentagfeld der dritte Freitag des Monats.

##### ğŸ“– Beispiele
- `* * * * * *` Jede Sekunde
- `0 * * * * *` Jede Minute
- `0 */10 * * * *` Alle 10 Minuten
- `0 */20 1 * * *` Alle 20 Minuten, zwischen 01:00 Uhr und 01:59 Uhr
- `0 15,30,45 * * * *` Um 15, 30 und 45 Minuten nach der vollen Stunde
- `0 0 12 * * *` Jeden Tag um Mittag - 12 Uhr
- `0 0 2 29 FEB * 2020/4` Um 02:00 Uhr, am 29. Februar (Schaltjahre)
- `0 0 7 * * MON#1 *` Um 07:00 Uhr, am ersten Montag des Monats
- `0 0 12 * JAN,FEB,MAR,APR *` Jeden Tag um Mittag im Januar, Februar, MÃ¤rz und April
- `* * 1W * *` Jede Minute, am ersten Wochentag des Monats
- `* * * * Tue#3` Jede Minute, am dritten Dienstag des Monats
- `0 12 * * MONL` Um 12:00 Uhr, am letzten Montag des Monats

Siehe [hier](https://github.com/jaclarke/cronosjs) fÃ¼r weitere Beispiele und Informationen.

#### ğŸŒ… Sonnenereignisse
| Ereignis-ID | Ereignis | Informationen |
|----------|-------|-------------|
| nightEnd | Nachtende / astronomische DÃ¤mmerung | Nacht endet, astronomische DÃ¤mmerung beginnt (-18Â°) |
| nauticalDawn | nautische DÃ¤mmerung | astronomische DÃ¤mmerung endet, nautische DÃ¤mmerung beginnt (-12Â°) |
| civilDawn | bÃ¼rgerliche DÃ¤mmerung / goldene Stunde | nautische DÃ¤mmerung endet, bÃ¼rgerliche DÃ¤mmerung und goldene Stunde beginnen (-6Â°) |
| sunrise | Sonnenaufgang | Oberkante der Sonne erscheint am Horizont (-0.833Â°) |
| sunriseEnd | Sonnenaufgang Ende | Unterkante der Sonne berÃ¼hrt den Horizont (-0.3Â°) |
| morningGoldenHourEnd | Morgen goldene Stunde endet | wenn die Sonne 6 Grad Ã¼ber dem Horizont steht (6Â°) |
| solarNoon | Sonnenmittag | Sonne steht am hÃ¶chsten Punkt |
| eveningGoldenHourStart | Abend goldene Stunde beginnt | wenn die Sonne 6 Grad Ã¼ber dem Horizont steht (6Â°) |
| sunsetStart | Sonnenuntergang beginnt | Unterkante der Sonne berÃ¼hrt den Horizont (-0.3Â°) |
| sunset | Sonnenuntergang | bÃ¼rgerliche DÃ¤mmerung beginnt, Sonne verschwindet unter dem Horizont (-0.833Â°) |
| civilDusk | bÃ¼rgerliche DÃ¤mmerung / goldene Stunde endet | bÃ¼rgerliche DÃ¤mmerung und goldene Stunde enden, nautische DÃ¤mmerung beginnt (-6Â°) |
| nauticalDusk | nautische DÃ¤mmerung | nautische DÃ¤mmerung endet, astronomische DÃ¤mmerung beginnt (-12Â°) |
| nightStart | astronomische DÃ¤mmerung / Nachtbeginn | astronomische DÃ¤mmerung endet, Nacht beginnt (-18Â°) |
| nadir | Sonnenmitternacht | wenn die Sonne dem Nadir am nÃ¤chsten ist und die Nacht gleich weit von DÃ¤mmerung und MorgendÃ¤mmerung entfernt ist |

#### ğŸ“ Allgemeine Hinweise
- Das HinzufÃ¼gen eines Plans mit demselben Namen wie ein bestehender Plan ersetzt den bestehenden
- Wenn ein ui-scheduler-Knoten eine msg als Antwort auf einen Befehl ausgibt, wird `msg.commandResponse` `true` sein, um anzuzeigen, dass die Nachricht eine Antwort auf einen Befehl ist und kein geplantes Ereignis
- Wenn ein ui-scheduler-Knoten eine msg fÃ¼r ein Cron-/Sonnenereignis ausgibt, wird `msg.scheduledEvent` `true` sein, um anzuzeigen, dass die Nachricht aufgrund eines geplanten Ereignisses und nicht einer Steuerungsantwort erfolgt
</script>
